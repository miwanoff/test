<!DOCTYPE html>
<html>
  <head>
    <title>Падающий квадратик</title>
    <script type="text/javascript">
      var canvas;
      var context;
      var squarePosition_x = 10;
      var squarePosition_y = 0;

      window.onload = function () {
        // Определение контекста рисования
        canvas = document.getElementById("drawingCanvas");
        context = canvas.getContext("2d");
        // Обновляем холст через 0.02 секунды
        setTimeout("drawFrame()", 20);
      };

      function drawFrame() {
        // Очистить холст
        context.clearRect(0, 0, canvas.width, canvas.height);
        // Вызываем метод beginPath(), чтобы убедиться,
        // что мы не рисуем часть уже нарисованного содержимого холста
        context.beginPath();
        // Рисуем квадратик размером 10x10 пикселов в текущей позиции
        context.rect(squarePosition_x, squarePosition_y, 10, 10);
        context.lineStyle = "#109bfc";
        context.lineWidth = 1;
        context.stroke();
        // Перемещаем квадратик вниз на 1 пиксел (где он будет
        // прорисован в следующем кадре)
        squarePosition_y += 1;
        // Рисуем следующий кадр через 20 миллисекунд
        setTimeout("drawFrame()", 20);
      }
    </script>
  </head>
  <body>
    <canvas id="drawingCanvas" height="800" width="600"></canvas>
  </body>
</html>
